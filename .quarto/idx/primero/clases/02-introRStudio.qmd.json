{"title":"**Introducción a RStudio**","markdown":{"yaml":{"title":"**Introducción a RStudio**","format":{"html":{"page-layout":"full","include-in-header":[{"text":"<link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\">\n"}],"toc":true,"toc-title":"Contenidos","toc-location":"left","toc_float":true,"toc_collapsed":false,"toc_depth":4}},"number_sections":true,"anchor_sections":true},"headingText":"Proyectos de RStudio","containsRefs":false,"markdown":"\n\n```{r, message=FALSE, echo=F}\nknitr::opts_chunk$set(comment=NA, dpi = 300)\n```\n\nUna vez instalado el software (R + RStudio + Rtools) tenemos todo lo necesario para comenzar a trabajar con el lenguaje R.\n\nEn este documento vamos a explicar algunos procedimientos que vamos a llevar a cabo muchas veces en las practicas a lo largo del curso.\n\nEn principio, aunque instalamos tres programas, el único que debemos ejecutar para ponernos a trabajar es **RStudio**. Éste se encarga de utilizar a **R** como *motor/interprete* y a *Rtools* si llegamos a necesitar instalar algún paquete desarrollado en C/C++ o Fortran. (proceso desantendido al que no deberemos prestar atención)\n\n\nLos proyectos de RStudio se utilizan para organizar todo el código, los resultados y salidas, las fuentes de datos y cualquier otro archivo utilizado en un análisis.\n\nLa organización del trabajo en proyectos es muy útil para asegurarnos que cada vez que necesitemos importar datos, RStudio los buscará dentro de la carpeta asociada al proyecto.\n\n### Crear un nuevo proyecto de RStudio\n\nCreamos un nuevo proyecto de RStudio seleccionando la opción **File** y luego **New Project ...** de la barra de menú en la parte superior de la pantalla de RStudio como se muestra en la siguiente figura.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy1.PNG\")\n```\n\nTambién accedemos a generar un proyecto nuevo a partir de pulsar sobre **New Project...** del menú desplegado en el extremo derecho superior de la interface de RStudio.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy2.PNG\")\n```\n\nEn cualquiera de los dos casos aparecerá un cuadro de diálogo que presenta algunas opciones para crear el **nuevo proyecto de RStudio**.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy3.PNG\")\n```\n\nPor lo general, seleccionaremos la primera opción, **New Directory**, que crea una nueva carpeta a la que deberemos colocarle un nombre. Esta es la forma de crear un nuevo proyecto cuando aún no tenemos archivos dentro de alguna carpeta con los que deseemos trabajar.\n\nEn el caso que tengamos algunos archivos de código o archivos de datos con los que necesitemos trabajar, podemos elegir la segunda opción, **Existing Directory**. El proyecto tomará el nombre de la carpeta que seleccionemos en forma predeterminada.\n\n### Tipos de proyectos\n\nExisten varios tipos de proyectos pero nosotros en este curso utilizaremos solo la primera opción, que nos abre la siguiente ventana.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy5.PNG\")\n```\n\nDebemos completar los dos campos.\n\nEn **Directory name** hay que escribir el nombre de la nueva carpeta que también será el nombre de nuestro proyecto.\n\nEn **Create Project as subdirectory of:** podemos pulsar sobre el botón *Browse...* y navegar por nuestro *Explorador de Archivos* hasta ubicar la carpeta donde queremos que se ubique el nuevo proyecto con su nueva carpeta asociada.\n\nFinalmente hacemos click en el botón **Create Project**.\n\nSupongamos que nombremos a nuestro nuevo proyecto como *“Practica R”* y que lo generamos dentro de la carpeta *Mis Documentos*.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy6.PNG\")\n```\n\nEste nuevo proyecto de RStudio se almacenará en la carpeta **Practica R** que encontraremos en *Mis Documentos*.\n\nLos proyectos de RStudio tienen sus propios entornos, por lo que si cerramos o cambiamos de proyecto, nuestra configuración se mantendrá inalterable.\n\nEsto es cierto para los scripts y cualquier otra cosa que se pueda necesitar para un análisis, mientras esté almacenado dentro de esa carpeta de trabajo.\n\nEchemos un vistazo a lo que RStudio realizó.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy7.PNG\")\n```\n\nEn la figura anterior podemos ver dos cambios en la pantalla de inicio.\n\nEn primer lugar el panel Files (pantalla inferior derecha) apunta a la nueva carpeta Practica R y dentro de ella vemos un nuevo archivo el nombre del proyecto y la extensión **Rproj**. Este archivo contiene todas las configuraciones del proyecto.\n\nEl otro cambio se observa en la parte superior derecha, que muestra el nombre del proyecto activo.\n\n## Scripts\n\nComo dijimos en *Introducción al lenguaje R* un script es un archivo de código que contiene un listado secuencial de funciones para ser ejecutadas por el interprete. Estos archivos permiten guardar el código que vamos creando y volver a utilizarlo tantas veces como se quiera, además de poder compartirlo con otras personas.\n\n### Cómo creamos un script nuevo en RStudio?\n\nTenemos dos formas de crear un script nuevo. Desde el menú superior pulsando **File \\> New File \\> R Script** (atajo Ctrl+Shift+N) o con el ícono del documento con un símbolo +, como se muestra debajo.\n\n```{r,echo=F,  fig.align='center', out.width = \"30%\", dpi=300}\nknitr::include_graphics(\"img/02/Script_nuevo.PNG\")\n```\n\n### Cómo editamos un script en RStudio?\n\nSi queremos comenzar a escribir código o modificar alguna línea ya escrita vamos a utilizar el editor de código.\n\nEste editor posee algunas herramientas especiales que nos facilitan el trabajo, evitando problemas de sintaxis entre otras ventajas.\n\nEstas herramientas las vamos a detallar más adelante.\n\n### Cómo ejecutamos un script en RStudio?\n\nLa forma de ejecutar habitualmente el código escrito, es línea por línea mediante el uso de la combinación de teclas ***Ctrl+Enter*** o el **botón Run** del editor de código de RStudio. Para esto tenemos que tener el cursor activo en la línea que queremos correr (puede ser en cualquier parte de la línea) y luego de ser ejecutada el cursor saltará automáticamente a la siguiente línea que tenga código.\n\nMientras ejecutamos cada línea debemos ir observando la salida en la consola y también los cambios que se dan en el bloque Environment (Entorno) donde aparecerán los objetos que vayamos creando y modificando.\n\n### Cómo guardamos un script en RStudio?\n\nCualquier código agregado o modificación que hayamos realizado al script que nos interese mantener nos obligará a guardar el archivo.\n\nBasta con pulsar sobre el ícono del diskette celeste del editor de código para guardar el script, o bien hacerlo desde el menú principal **File \\> Save** o presionando el atajo **Ctrl+S**.\n\nSi en cambio quisiera guardarlo como otro archivo para mantener el script original, podemos guardarlo con diferente nombre mediante **File \\> Save As...**\n\n### Cómo abrimos un script en RStudio?\n\nLos scripts que construyamos o bien que nos compartan siempre tendrán extensión **.R** y generalmente, se encontrarán dentro de algún proyecto.\n\nPara abrir estos archivos .R podemos pulsar sobre ellos dentro del panel Files (abajo a la derecha) o bien desde el manú con **File \\> Open file...** (atajo de teclado Ctrl+O)\n\nVisualizaremos el script en una nueva pestaña en el editor de código.\n\n## Herramientas de RStudio\n\n### Asistente de código\n\nCuando escribimos desde el teclado en el editor de código o en la consola de RStudio, aparece un asistente de forma automática que autocompleta las funciones que vamos tipeando.\n\nEsta herramienta de autocompletado también se ejecuta pulsando la **tecla de tabulación** (**Tab**) y nos muestra las posibilidades de finalizar las palabras que vamos escribiendo junto al esquema de argumentos obligatorios que tiene asociado dicha función. Solo debemos presionar Enter para seleccionar el término correcto.\n\n```{r,echo=F,  fig.align='center', out.width = \"50%\", dpi=300}\nknitr::include_graphics(\"img/02/RS1.PNG\")\n```\n\nAl sistematizar la escritura de código apoyandonos en el uso del autocompletado vamos a reducir la tasa de errores de sintaxis, dado que las funciones, los argumentos y los nombres de las tablas y variables de nuestros datos van a estar correctamente escritos.\n\n### Ayuda en línea\n\nSi necesitamos acceder a una ayuda adicional en línea bastará que presionemos la **tecla F1** con el cursor situado sobre el nombre de la función escrita en el editor de código para que aparezca la información relacionada en el **bloque Help** de Rstudio (generalmente panel abajo a la derecha).\n\n```{r,echo=F,  fig.align='center', out.width = \"50%\", dpi=300}\nknitr::include_graphics(\"img/02/RS2.PNG\")\n```\n\n### Historial de funciones\n\nOtra característica de utilidad dentro de la **Consola** de RStudio es que si nos situamos en el prompt activo, y pulsamos las teclas flecha hacia arriba o abajo, veremos pasar la lista completa de código ejecutado en la sesion de trabajo.\n\nEsto nos ayuda a la hora de volver a ejecutar una función o bien cuando debemos hacer alguna corrección de la o las líneas anteriores, puesto que nos ahorra tiempo y trabajo evitando volver a tener que tipear lo que ya escribimos.\n\nEste historial de funciones también lo encontramos en el bloque superior derecho de RStudio, dentro de la pestaña **History**.\n\nHistory almacena todos las funciones ejecutados en consola de forma acumulativa, incluso anidando sesión tras sesión.\n\nLos comandos que aparecen en ese panel se pueden copiar y pegar en la Consola o, de forma más directa, puedes seleccionar uno de ellos con el mouse, y pulsar en el **botón To Console** (Enter) para insertarlo en consola o **To Source** (Shitft+Enter) para insertarlo en el script activo en el que estemos trabajando.\n\n```{r,echo=F,  fig.align='center', out.width = \"50%\", dpi=300}\nknitr::include_graphics(\"img/02/RS3.PNG\")\n```\n\n### Atajos de teclados relevantes (para Windows)\n\n| **Menú Archivo (File)** |                                                                        |\n|:----------------------------------|:------------------------------------|\n| Ctrl+Shift+N            | Crea un nuevo script                                                   |\n| Ctrl+O                  | Abre un script guardado                                                |\n| Ctrl+S                  | Guarda el script activo                                                |\n| Ctrl+W                  | Cierra el script activo                                                |\n| Ctrl+Q                  | Sale del programa RStudio                                              |\n| **Menú Edición (Edit)** |                                                                        |\n| Ctrl+F                  | Abre la ventana de búsqueda (para buscar palabras dentro de un script) |\n| Ctrl+L                  | Limpia la consola                                                      |\n| **Menú Código (Code)**  |                                                                        |\n| Ctrl+Enter              | Ejecuta la línea de código donde está situado el cursor                |\n| Ctrl+Alt+R              | Ejecuta todo el código del script activo                               |\n\n## Paquetes (librerías)\n\nR consta de un sistema base y de librerías adicionales, llamados paquetes (packages) que extienden su funcionalidad.\n\nSiendo **open source** cualquier persona puede construir paquetes con nuevas funciones, aunque no todos se publican en el repositorio CRAN (Comprehensive R Archive Network).\n\nUn grupo de paquetes conforman el sistema base que quedan activos cuando instalamos el software R.\n\nOtros paquetes se encuentran publicados en el repositorio para ser descargados cuando sea necesario. Actualmente existen más de 19000 paquetes para múltiples aplicaciones.\n\nExisten dos formas de descargar estos paquetes, directamente desde RStudio/R y por medio del sitio web, descargándolos como archivos comprimidos .zip\n\nSi el equipo se encuentra conectado a Internet es más cómodo realizar las descargas desde RStudio, pero en el caso de no tener acceso permanente a la red, se pueden descargar desde la web en otro equipo y luego guardar en el equipo donde tenemos el programa R.\n\nEl sitio web para las descargas de los paquetes publicados es https://cran.r-project.org/web/packages/\n\nAllí se encuentran los enlaces para ver el listado de paquetes ordenados alfabéticamente o por fecha de publicación.\n\nUna vez que ingresamos al link del paquete que nos interesa veremos en la página algunos datos relacionados como un breve texto de que trata el paquete, el numero de versión, la fecha de publicación, el autor, el archivo de documentación, y por supuesto los archivos a descargar para cada sistema operativo.\n\nAfortunadamente en la actualidad la mayoría de las computadoras cuentan con acceso a Internet por lo cual explicaremos como se puede descargar, instalar y activar los paquetes desde RStudio.\n\nRStudio tiene una pestaña específica para gestionar los paquetes ubicada de forma predeterminada en el bloque inferior derecho de la interfaz (**Packages**)\n\n```{r,echo=F,  fig.align='center', out.width = \"100%\", dpi=300}\nknitr::include_graphics(\"img/02/RS4.PNG\")\n```\n\nPrácticamente todos las acciones que nos facilita la interfaz de RStudio se traduce internamente en ejecuciones de funciones de R que podemos ver en la consola.\n\nLa secuencia para instalar un paquete que no tengamos previamente instalado inicia a partir de pulsar el **botón Install** y la ventana emergente que visualizaremos es la siguiente:\n\n```{r,echo=F,  fig.align='center', out.width = \"80%\", dpi=300}\nknitr::include_graphics(\"img/02/RS5.PNG\")\n```\n\n### Dependencias\n\nLa gran mayoría de las funciones que integran los paquetes que podemos descargar y utilizar están construidas en el mismo lenguaje R y para su elaboración se usan muchas veces funciones pertenecientes a otros paquetes.\n\nQue pasa cuando queremos ejecutar una función que necesita de otra que no tenemos instalada? Sucede que no es posible ejecutarla dado que no puede encontrar la o las funciones que están siendo llamadas en su propio código y no existen en la actual instalación de R; por lo tanto nos devolverá un mensaje de error alertando por la función desconocida.\n\nEsta relación de funciones que llaman a otras funciones se denomina ***dependencia***. Es decir, que un paquete puede depender de otro u otros que tienen funciones que son llamadas y por ende, debe asegurarse su previa instalación para evitar el error.\n\nHay una forma de asegurarnos cuando instalamos un paquete que a su vez se instalen los paquetes del cual depende y es marcando la opción **Install dependencies** en la ventana anterior (**Install Packages**).\n\n## Lectura de archivos de datos\n\nEl lenguaje nos permite importar variados formatos de tablas de datos utilizando funciones propias de R base como de paquetes que se dedican a esta tarea.\n\nEl formato nativo de tablas de datos de R es el texto plano (*ASCII* - Codigo Estadounidense Estandar para el Intercambio de Informacion) con sus columnas separadas por algún caracter. Estos pueden ser caracteres habituales como la coma (,) o el punto y coma (;) que da lugar a la extensión **\\*.csv**, o algunos especiales como la barra vertical (\\|) que suele utilizar el INDEC para sus productos o bien cualquier otro, como espacios o la tabulación.\n\nOtra característica que tienen estos archivos es que generalmente poseen una cabecera donde se ubican los nombres de cada columna/variable y por supuesto que cada una de ellas debe respetar un mismo tipo de dato para cumplir con la condición que la hace una tabla/base de datos.\n\nLo más importante para hacer una buena lectura de la tabla de datos con la que deseamos trabajar es conocer previamente el formato que tiene, si tiene cabecera, que caracter usa como separador de columnas, etc. Al ser un texto plano se puede abrir desde un simple **Block de Notas** de Windows o desde el mismo **RStudio** para conocer sus particularidades.\n\nActualmente y dentro del ecosistema con el que vamos a trabajar durante este curso hay un paquete con funciones diseñadas para importar estos tipos de archivos. Se llama **readr** y su fuerte es detectar el formato que tiene cada columna en el momento de la lectura.\n\nPosee una familia de funciones analizadoras donde se destacan:\n\n-   **read_csv()**: archivos separados por comas (CSV)\n-   **read_delim()**: archivos separados con delimitadores generales\n-   **read_tsv()**: archivos separados por tabulaciones\n-   **read_fwf()**: archivos con columnas de ancho fijo\n-   **read_table()**: archivos formato tabla con columnas separadas por espacios\n\nTodas estas funciones tiene argumentos comunes, además de **file =** donde se declara el nombre del archivo a importar entre comillas. Algunos de estos argumentos importantes son:\n\n**col_names =** con *TRUE* le indicamos que la primera fila contiene los nombres de las columnas (con *FALSE* lo negamos)\n\n**skip =** salteamos una cantidad determinada de líneas que el archivo puede contener. En el caso que existan textos que no pertenecen al formato de la tabla de datos.\n\n**locale =** es la configuración regional que el arhivo puede tener. Estos incluyen:\n\n-   Las marcas decimales y de agrupación, utilizadas al leer números.\n-   La codificación de caracteres, utilizada al leer cadenas que no son ASCII.\n-   Los nombres de meses y días, utilizados al analizar fechas.\n-   La zona horaria predeterminada, utilizada al analizar fechas y horas.\n\nLa adecuada configuración de este argumento evitará que palabras que tengan acentos o eñes o diferentes formatos de fecha sean bien reconocidos.\n\nPor lo tanto, nuestra tarea es hacer coincidir el formato de origen del archivo a leer con la función y los argumentos correctos.\n\nDurante el proceso de importación, decíamos que las funciones analizan columna por columna a que tipo de dato pertenecen. Los posibles tipos de datos son: character, integer, numeric, double, logical y date/time.\n\nPor ejemplo, si tenemos un archivo con punto y coma de separador, vamos a utilizar **read_csv2()** y si queremos importar la tabla de datos que ofrece el INDEC para los datos de las Encuestas Nacionales de Factores de Riesgo utilizaremos **read_delim()** declarando **\"\\|\"** dentro del argumento **delim =** (única función de la familia que la incorpora).\n\n## Agunas buenas prácticas de trabajo\n\n-   Agrupar nuestros datos, scripts y resultados dentro de proyectos de RStudio (Rproj)\n-   Declarar en el inicio de los scripts la activación de paquetes necesarios para ejecutar las funciones incluídas en el código. ( función **library()** )\n-   Documentar el código que vayamos creando por medio de comentarios (iniciados con **\\#**)\n-   Cumplir con un correcto estilo de codificación (Intentar utilizar espacios e identación adecuada para que el código sea de fácil lectura).\n\n<br> <br>\n","srcMarkdownNoYaml":"\n\n```{r, message=FALSE, echo=F}\nknitr::opts_chunk$set(comment=NA, dpi = 300)\n```\n\nUna vez instalado el software (R + RStudio + Rtools) tenemos todo lo necesario para comenzar a trabajar con el lenguaje R.\n\nEn este documento vamos a explicar algunos procedimientos que vamos a llevar a cabo muchas veces en las practicas a lo largo del curso.\n\nEn principio, aunque instalamos tres programas, el único que debemos ejecutar para ponernos a trabajar es **RStudio**. Éste se encarga de utilizar a **R** como *motor/interprete* y a *Rtools* si llegamos a necesitar instalar algún paquete desarrollado en C/C++ o Fortran. (proceso desantendido al que no deberemos prestar atención)\n\n## Proyectos de RStudio\n\nLos proyectos de RStudio se utilizan para organizar todo el código, los resultados y salidas, las fuentes de datos y cualquier otro archivo utilizado en un análisis.\n\nLa organización del trabajo en proyectos es muy útil para asegurarnos que cada vez que necesitemos importar datos, RStudio los buscará dentro de la carpeta asociada al proyecto.\n\n### Crear un nuevo proyecto de RStudio\n\nCreamos un nuevo proyecto de RStudio seleccionando la opción **File** y luego **New Project ...** de la barra de menú en la parte superior de la pantalla de RStudio como se muestra en la siguiente figura.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy1.PNG\")\n```\n\nTambién accedemos a generar un proyecto nuevo a partir de pulsar sobre **New Project...** del menú desplegado en el extremo derecho superior de la interface de RStudio.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy2.PNG\")\n```\n\nEn cualquiera de los dos casos aparecerá un cuadro de diálogo que presenta algunas opciones para crear el **nuevo proyecto de RStudio**.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy3.PNG\")\n```\n\nPor lo general, seleccionaremos la primera opción, **New Directory**, que crea una nueva carpeta a la que deberemos colocarle un nombre. Esta es la forma de crear un nuevo proyecto cuando aún no tenemos archivos dentro de alguna carpeta con los que deseemos trabajar.\n\nEn el caso que tengamos algunos archivos de código o archivos de datos con los que necesitemos trabajar, podemos elegir la segunda opción, **Existing Directory**. El proyecto tomará el nombre de la carpeta que seleccionemos en forma predeterminada.\n\n### Tipos de proyectos\n\nExisten varios tipos de proyectos pero nosotros en este curso utilizaremos solo la primera opción, que nos abre la siguiente ventana.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy5.PNG\")\n```\n\nDebemos completar los dos campos.\n\nEn **Directory name** hay que escribir el nombre de la nueva carpeta que también será el nombre de nuestro proyecto.\n\nEn **Create Project as subdirectory of:** podemos pulsar sobre el botón *Browse...* y navegar por nuestro *Explorador de Archivos* hasta ubicar la carpeta donde queremos que se ubique el nuevo proyecto con su nueva carpeta asociada.\n\nFinalmente hacemos click en el botón **Create Project**.\n\nSupongamos que nombremos a nuestro nuevo proyecto como *“Practica R”* y que lo generamos dentro de la carpeta *Mis Documentos*.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy6.PNG\")\n```\n\nEste nuevo proyecto de RStudio se almacenará en la carpeta **Practica R** que encontraremos en *Mis Documentos*.\n\nLos proyectos de RStudio tienen sus propios entornos, por lo que si cerramos o cambiamos de proyecto, nuestra configuración se mantendrá inalterable.\n\nEsto es cierto para los scripts y cualquier otra cosa que se pueda necesitar para un análisis, mientras esté almacenado dentro de esa carpeta de trabajo.\n\nEchemos un vistazo a lo que RStudio realizó.\n\n```{r,echo=F,  fig.align='center', out.width = \"40%\", dpi=300}\nknitr::include_graphics(\"img/02/Proy7.PNG\")\n```\n\nEn la figura anterior podemos ver dos cambios en la pantalla de inicio.\n\nEn primer lugar el panel Files (pantalla inferior derecha) apunta a la nueva carpeta Practica R y dentro de ella vemos un nuevo archivo el nombre del proyecto y la extensión **Rproj**. Este archivo contiene todas las configuraciones del proyecto.\n\nEl otro cambio se observa en la parte superior derecha, que muestra el nombre del proyecto activo.\n\n## Scripts\n\nComo dijimos en *Introducción al lenguaje R* un script es un archivo de código que contiene un listado secuencial de funciones para ser ejecutadas por el interprete. Estos archivos permiten guardar el código que vamos creando y volver a utilizarlo tantas veces como se quiera, además de poder compartirlo con otras personas.\n\n### Cómo creamos un script nuevo en RStudio?\n\nTenemos dos formas de crear un script nuevo. Desde el menú superior pulsando **File \\> New File \\> R Script** (atajo Ctrl+Shift+N) o con el ícono del documento con un símbolo +, como se muestra debajo.\n\n```{r,echo=F,  fig.align='center', out.width = \"30%\", dpi=300}\nknitr::include_graphics(\"img/02/Script_nuevo.PNG\")\n```\n\n### Cómo editamos un script en RStudio?\n\nSi queremos comenzar a escribir código o modificar alguna línea ya escrita vamos a utilizar el editor de código.\n\nEste editor posee algunas herramientas especiales que nos facilitan el trabajo, evitando problemas de sintaxis entre otras ventajas.\n\nEstas herramientas las vamos a detallar más adelante.\n\n### Cómo ejecutamos un script en RStudio?\n\nLa forma de ejecutar habitualmente el código escrito, es línea por línea mediante el uso de la combinación de teclas ***Ctrl+Enter*** o el **botón Run** del editor de código de RStudio. Para esto tenemos que tener el cursor activo en la línea que queremos correr (puede ser en cualquier parte de la línea) y luego de ser ejecutada el cursor saltará automáticamente a la siguiente línea que tenga código.\n\nMientras ejecutamos cada línea debemos ir observando la salida en la consola y también los cambios que se dan en el bloque Environment (Entorno) donde aparecerán los objetos que vayamos creando y modificando.\n\n### Cómo guardamos un script en RStudio?\n\nCualquier código agregado o modificación que hayamos realizado al script que nos interese mantener nos obligará a guardar el archivo.\n\nBasta con pulsar sobre el ícono del diskette celeste del editor de código para guardar el script, o bien hacerlo desde el menú principal **File \\> Save** o presionando el atajo **Ctrl+S**.\n\nSi en cambio quisiera guardarlo como otro archivo para mantener el script original, podemos guardarlo con diferente nombre mediante **File \\> Save As...**\n\n### Cómo abrimos un script en RStudio?\n\nLos scripts que construyamos o bien que nos compartan siempre tendrán extensión **.R** y generalmente, se encontrarán dentro de algún proyecto.\n\nPara abrir estos archivos .R podemos pulsar sobre ellos dentro del panel Files (abajo a la derecha) o bien desde el manú con **File \\> Open file...** (atajo de teclado Ctrl+O)\n\nVisualizaremos el script en una nueva pestaña en el editor de código.\n\n## Herramientas de RStudio\n\n### Asistente de código\n\nCuando escribimos desde el teclado en el editor de código o en la consola de RStudio, aparece un asistente de forma automática que autocompleta las funciones que vamos tipeando.\n\nEsta herramienta de autocompletado también se ejecuta pulsando la **tecla de tabulación** (**Tab**) y nos muestra las posibilidades de finalizar las palabras que vamos escribiendo junto al esquema de argumentos obligatorios que tiene asociado dicha función. Solo debemos presionar Enter para seleccionar el término correcto.\n\n```{r,echo=F,  fig.align='center', out.width = \"50%\", dpi=300}\nknitr::include_graphics(\"img/02/RS1.PNG\")\n```\n\nAl sistematizar la escritura de código apoyandonos en el uso del autocompletado vamos a reducir la tasa de errores de sintaxis, dado que las funciones, los argumentos y los nombres de las tablas y variables de nuestros datos van a estar correctamente escritos.\n\n### Ayuda en línea\n\nSi necesitamos acceder a una ayuda adicional en línea bastará que presionemos la **tecla F1** con el cursor situado sobre el nombre de la función escrita en el editor de código para que aparezca la información relacionada en el **bloque Help** de Rstudio (generalmente panel abajo a la derecha).\n\n```{r,echo=F,  fig.align='center', out.width = \"50%\", dpi=300}\nknitr::include_graphics(\"img/02/RS2.PNG\")\n```\n\n### Historial de funciones\n\nOtra característica de utilidad dentro de la **Consola** de RStudio es que si nos situamos en el prompt activo, y pulsamos las teclas flecha hacia arriba o abajo, veremos pasar la lista completa de código ejecutado en la sesion de trabajo.\n\nEsto nos ayuda a la hora de volver a ejecutar una función o bien cuando debemos hacer alguna corrección de la o las líneas anteriores, puesto que nos ahorra tiempo y trabajo evitando volver a tener que tipear lo que ya escribimos.\n\nEste historial de funciones también lo encontramos en el bloque superior derecho de RStudio, dentro de la pestaña **History**.\n\nHistory almacena todos las funciones ejecutados en consola de forma acumulativa, incluso anidando sesión tras sesión.\n\nLos comandos que aparecen en ese panel se pueden copiar y pegar en la Consola o, de forma más directa, puedes seleccionar uno de ellos con el mouse, y pulsar en el **botón To Console** (Enter) para insertarlo en consola o **To Source** (Shitft+Enter) para insertarlo en el script activo en el que estemos trabajando.\n\n```{r,echo=F,  fig.align='center', out.width = \"50%\", dpi=300}\nknitr::include_graphics(\"img/02/RS3.PNG\")\n```\n\n### Atajos de teclados relevantes (para Windows)\n\n| **Menú Archivo (File)** |                                                                        |\n|:----------------------------------|:------------------------------------|\n| Ctrl+Shift+N            | Crea un nuevo script                                                   |\n| Ctrl+O                  | Abre un script guardado                                                |\n| Ctrl+S                  | Guarda el script activo                                                |\n| Ctrl+W                  | Cierra el script activo                                                |\n| Ctrl+Q                  | Sale del programa RStudio                                              |\n| **Menú Edición (Edit)** |                                                                        |\n| Ctrl+F                  | Abre la ventana de búsqueda (para buscar palabras dentro de un script) |\n| Ctrl+L                  | Limpia la consola                                                      |\n| **Menú Código (Code)**  |                                                                        |\n| Ctrl+Enter              | Ejecuta la línea de código donde está situado el cursor                |\n| Ctrl+Alt+R              | Ejecuta todo el código del script activo                               |\n\n## Paquetes (librerías)\n\nR consta de un sistema base y de librerías adicionales, llamados paquetes (packages) que extienden su funcionalidad.\n\nSiendo **open source** cualquier persona puede construir paquetes con nuevas funciones, aunque no todos se publican en el repositorio CRAN (Comprehensive R Archive Network).\n\nUn grupo de paquetes conforman el sistema base que quedan activos cuando instalamos el software R.\n\nOtros paquetes se encuentran publicados en el repositorio para ser descargados cuando sea necesario. Actualmente existen más de 19000 paquetes para múltiples aplicaciones.\n\nExisten dos formas de descargar estos paquetes, directamente desde RStudio/R y por medio del sitio web, descargándolos como archivos comprimidos .zip\n\nSi el equipo se encuentra conectado a Internet es más cómodo realizar las descargas desde RStudio, pero en el caso de no tener acceso permanente a la red, se pueden descargar desde la web en otro equipo y luego guardar en el equipo donde tenemos el programa R.\n\nEl sitio web para las descargas de los paquetes publicados es https://cran.r-project.org/web/packages/\n\nAllí se encuentran los enlaces para ver el listado de paquetes ordenados alfabéticamente o por fecha de publicación.\n\nUna vez que ingresamos al link del paquete que nos interesa veremos en la página algunos datos relacionados como un breve texto de que trata el paquete, el numero de versión, la fecha de publicación, el autor, el archivo de documentación, y por supuesto los archivos a descargar para cada sistema operativo.\n\nAfortunadamente en la actualidad la mayoría de las computadoras cuentan con acceso a Internet por lo cual explicaremos como se puede descargar, instalar y activar los paquetes desde RStudio.\n\nRStudio tiene una pestaña específica para gestionar los paquetes ubicada de forma predeterminada en el bloque inferior derecho de la interfaz (**Packages**)\n\n```{r,echo=F,  fig.align='center', out.width = \"100%\", dpi=300}\nknitr::include_graphics(\"img/02/RS4.PNG\")\n```\n\nPrácticamente todos las acciones que nos facilita la interfaz de RStudio se traduce internamente en ejecuciones de funciones de R que podemos ver en la consola.\n\nLa secuencia para instalar un paquete que no tengamos previamente instalado inicia a partir de pulsar el **botón Install** y la ventana emergente que visualizaremos es la siguiente:\n\n```{r,echo=F,  fig.align='center', out.width = \"80%\", dpi=300}\nknitr::include_graphics(\"img/02/RS5.PNG\")\n```\n\n### Dependencias\n\nLa gran mayoría de las funciones que integran los paquetes que podemos descargar y utilizar están construidas en el mismo lenguaje R y para su elaboración se usan muchas veces funciones pertenecientes a otros paquetes.\n\nQue pasa cuando queremos ejecutar una función que necesita de otra que no tenemos instalada? Sucede que no es posible ejecutarla dado que no puede encontrar la o las funciones que están siendo llamadas en su propio código y no existen en la actual instalación de R; por lo tanto nos devolverá un mensaje de error alertando por la función desconocida.\n\nEsta relación de funciones que llaman a otras funciones se denomina ***dependencia***. Es decir, que un paquete puede depender de otro u otros que tienen funciones que son llamadas y por ende, debe asegurarse su previa instalación para evitar el error.\n\nHay una forma de asegurarnos cuando instalamos un paquete que a su vez se instalen los paquetes del cual depende y es marcando la opción **Install dependencies** en la ventana anterior (**Install Packages**).\n\n## Lectura de archivos de datos\n\nEl lenguaje nos permite importar variados formatos de tablas de datos utilizando funciones propias de R base como de paquetes que se dedican a esta tarea.\n\nEl formato nativo de tablas de datos de R es el texto plano (*ASCII* - Codigo Estadounidense Estandar para el Intercambio de Informacion) con sus columnas separadas por algún caracter. Estos pueden ser caracteres habituales como la coma (,) o el punto y coma (;) que da lugar a la extensión **\\*.csv**, o algunos especiales como la barra vertical (\\|) que suele utilizar el INDEC para sus productos o bien cualquier otro, como espacios o la tabulación.\n\nOtra característica que tienen estos archivos es que generalmente poseen una cabecera donde se ubican los nombres de cada columna/variable y por supuesto que cada una de ellas debe respetar un mismo tipo de dato para cumplir con la condición que la hace una tabla/base de datos.\n\nLo más importante para hacer una buena lectura de la tabla de datos con la que deseamos trabajar es conocer previamente el formato que tiene, si tiene cabecera, que caracter usa como separador de columnas, etc. Al ser un texto plano se puede abrir desde un simple **Block de Notas** de Windows o desde el mismo **RStudio** para conocer sus particularidades.\n\nActualmente y dentro del ecosistema con el que vamos a trabajar durante este curso hay un paquete con funciones diseñadas para importar estos tipos de archivos. Se llama **readr** y su fuerte es detectar el formato que tiene cada columna en el momento de la lectura.\n\nPosee una familia de funciones analizadoras donde se destacan:\n\n-   **read_csv()**: archivos separados por comas (CSV)\n-   **read_delim()**: archivos separados con delimitadores generales\n-   **read_tsv()**: archivos separados por tabulaciones\n-   **read_fwf()**: archivos con columnas de ancho fijo\n-   **read_table()**: archivos formato tabla con columnas separadas por espacios\n\nTodas estas funciones tiene argumentos comunes, además de **file =** donde se declara el nombre del archivo a importar entre comillas. Algunos de estos argumentos importantes son:\n\n**col_names =** con *TRUE* le indicamos que la primera fila contiene los nombres de las columnas (con *FALSE* lo negamos)\n\n**skip =** salteamos una cantidad determinada de líneas que el archivo puede contener. En el caso que existan textos que no pertenecen al formato de la tabla de datos.\n\n**locale =** es la configuración regional que el arhivo puede tener. Estos incluyen:\n\n-   Las marcas decimales y de agrupación, utilizadas al leer números.\n-   La codificación de caracteres, utilizada al leer cadenas que no son ASCII.\n-   Los nombres de meses y días, utilizados al analizar fechas.\n-   La zona horaria predeterminada, utilizada al analizar fechas y horas.\n\nLa adecuada configuración de este argumento evitará que palabras que tengan acentos o eñes o diferentes formatos de fecha sean bien reconocidos.\n\nPor lo tanto, nuestra tarea es hacer coincidir el formato de origen del archivo a leer con la función y los argumentos correctos.\n\nDurante el proceso de importación, decíamos que las funciones analizan columna por columna a que tipo de dato pertenecen. Los posibles tipos de datos son: character, integer, numeric, double, logical y date/time.\n\nPor ejemplo, si tenemos un archivo con punto y coma de separador, vamos a utilizar **read_csv2()** y si queremos importar la tabla de datos que ofrece el INDEC para los datos de las Encuestas Nacionales de Factores de Riesgo utilizaremos **read_delim()** declarando **\"\\|\"** dentro del argumento **delim =** (única función de la familia que la incorpora).\n\n## Agunas buenas prácticas de trabajo\n\n-   Agrupar nuestros datos, scripts y resultados dentro de proyectos de RStudio (Rproj)\n-   Declarar en el inicio de los scripts la activación de paquetes necesarios para ejecutar las funciones incluídas en el código. ( función **library()** )\n-   Documentar el código que vayamos creando por medio de comentarios (iniciados con **\\#**)\n-   Cumplir con un correcto estilo de codificación (Intentar utilizar espacios e identación adecuada para que el código sea de fácil lectura).\n\n<br> <br>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":true,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true,"link-external-filter":"^https:\\/\\/(www\\.)?(linkedin|twitter|github)\\.*"},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","include-in-header":[{"text":"<link rel=\"icon\" type=\"image/x-icon\" href=\"img/favicon.ico\">\n"},{"text":"<link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\">\n"}],"toc":true,"output-file":"02-introRStudio.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"Contenido","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.553","theme":{"light":["pulse","../../custom.scss"],"dark":"darkly"},"code-copy":true,"anchor-sections":false,"title":"**Introducción a RStudio**","number_sections":true,"anchor_sections":true,"page-layout":"full","toc-title":"Contenidos","toc-location":"left","toc_float":true,"toc_collapsed":false,"toc_depth":4},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}